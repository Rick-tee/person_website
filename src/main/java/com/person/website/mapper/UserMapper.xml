<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.person.website.mapper.UserMapper" >
  <resultMap id="BaseResultMap" type="com.person.website.pojo.User" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 28 17:42:58 CST 2021.
    -->
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="user_id" property="userId" jdbcType="CHAR" />
    <result column="user_avatar" property="userAvatar" jdbcType="VARCHAR" />
    <result column="user_name" property="userName" jdbcType="VARCHAR" />
    <result column="user_sex" property="userSex" jdbcType="CHAR" />
    <result column="phone" property="phone" jdbcType="CHAR" />
    <result column="email" property="email" jdbcType="VARCHAR" />
    <result column="ip" property="ip" jdbcType="VARCHAR" />
    <result column="password" property="password" jdbcType="CHAR" />
    <result column="free_space" property="freeSpace" jdbcType="TINYINT" />
    <result column="space_state" property="spaceState" jdbcType="TINYINT" />
    <result column="account_state" property="accountState" jdbcType="TINYINT" />
    <result column="province" property="province" jdbcType="VARCHAR" />
    <result column="city" property="city" jdbcType="VARCHAR" />
    <result column="county" property="county" jdbcType="VARCHAR" />
    <result column="address" property="address" jdbcType="VARCHAR" />
    <result column="left_wish" property="leftWish" jdbcType="VARCHAR" />
    <result column="right_whisper" property="rightWhisper" jdbcType="VARCHAR" />
    <result column="reg_time" property="regTime" jdbcType="TIMESTAMP" />
    <result column="up_time" property="upTime" jdbcType="TIMESTAMP" />
  </resultMap>
  <resultMap id="ResultMapWithBLOBs" type="com.person.website.pojo.User" extends="BaseResultMap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 28 17:42:58 CST 2021.
    -->
    <result column="carousel" property="carousel" jdbcType="LONGVARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 28 17:42:58 CST 2021.
    -->
    id, user_id, user_avatar, user_name, user_sex, phone, email, ip, password, free_space, 
    space_state, account_state, province, city, county, address, left_wish, right_whisper, 
    reg_time, up_time
  </sql>
  <sql id="Blob_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 28 17:42:58 CST 2021.
    -->
    carousel
  </sql>
  <select id="selectByPrimaryKey" resultMap="ResultMapWithBLOBs" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 28 17:42:58 CST 2021.
    -->
    select 
    <include refid="Base_Column_List" />
    ,
    <include refid="Blob_Column_List" />
    from t_user
    where id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 28 17:42:58 CST 2021.
    -->
    delete from t_user
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.person.website.pojo.User" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 28 17:42:58 CST 2021.
    -->
    insert into t_user (id, user_id, user_avatar, 
      user_name, user_sex, phone, 
      email, ip, password, free_space, 
      space_state, account_state, province, 
      city, county, address, 
      left_wish, right_whisper, reg_time, 
      up_time, carousel)
    values (#{id,jdbcType=INTEGER}, #{userId,jdbcType=CHAR}, #{userAvatar,jdbcType=VARCHAR}, 
      #{userName,jdbcType=VARCHAR}, #{userSex,jdbcType=CHAR}, #{phone,jdbcType=CHAR}, 
      #{email,jdbcType=VARCHAR}, #{ip,jdbcType=VARCHAR}, #{password,jdbcType=CHAR}, #{freeSpace,jdbcType=TINYINT}, 
      #{spaceState,jdbcType=TINYINT}, #{accountState,jdbcType=TINYINT}, #{province,jdbcType=VARCHAR}, 
      #{city,jdbcType=VARCHAR}, #{county,jdbcType=VARCHAR}, #{address,jdbcType=VARCHAR}, 
      #{leftWish,jdbcType=VARCHAR}, #{rightWhisper,jdbcType=VARCHAR}, #{regTime,jdbcType=TIMESTAMP}, 
      #{upTime,jdbcType=TIMESTAMP}, #{carousel,jdbcType=LONGVARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.person.website.pojo.User" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 28 17:42:58 CST 2021.
    -->
    insert into t_user
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="userId != null" >
        user_id,
      </if>
      <if test="userAvatar != null" >
        user_avatar,
      </if>
      <if test="userName != null" >
        user_name,
      </if>
      <if test="userSex != null" >
        user_sex,
      </if>
      <if test="phone != null" >
        phone,
      </if>
      <if test="email != null" >
        email,
      </if>
      <if test="ip != null" >
        ip,
      </if>
      <if test="password != null" >
        password,
      </if>
      <if test="freeSpace != null" >
        free_space,
      </if>
      <if test="spaceState != null" >
        space_state,
      </if>
      <if test="accountState != null" >
        account_state,
      </if>
      <if test="province != null" >
        province,
      </if>
      <if test="city != null" >
        city,
      </if>
      <if test="county != null" >
        county,
      </if>
      <if test="address != null" >
        address,
      </if>
      <if test="leftWish != null" >
        left_wish,
      </if>
      <if test="rightWhisper != null" >
        right_whisper,
      </if>
      <if test="regTime != null" >
        reg_time,
      </if>
      <if test="upTime != null" >
        up_time,
      </if>
      <if test="carousel != null" >
        carousel,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=INTEGER},
      </if>
      <if test="userId != null" >
        #{userId,jdbcType=CHAR},
      </if>
      <if test="userAvatar != null" >
        #{userAvatar,jdbcType=VARCHAR},
      </if>
      <if test="userName != null" >
        #{userName,jdbcType=VARCHAR},
      </if>
      <if test="userSex != null" >
        #{userSex,jdbcType=CHAR},
      </if>
      <if test="phone != null" >
        #{phone,jdbcType=CHAR},
      </if>
      <if test="email != null" >
        #{email,jdbcType=VARCHAR},
      </if>
      <if test="ip != null" >
        #{ip,jdbcType=VARCHAR},
      </if>
      <if test="password != null" >
        #{password,jdbcType=CHAR},
      </if>
      <if test="freeSpace != null" >
        #{freeSpace,jdbcType=TINYINT},
      </if>
      <if test="spaceState != null" >
        #{spaceState,jdbcType=TINYINT},
      </if>
      <if test="accountState != null" >
        #{accountState,jdbcType=TINYINT},
      </if>
      <if test="province != null" >
        #{province,jdbcType=VARCHAR},
      </if>
      <if test="city != null" >
        #{city,jdbcType=VARCHAR},
      </if>
      <if test="county != null" >
        #{county,jdbcType=VARCHAR},
      </if>
      <if test="address != null" >
        #{address,jdbcType=VARCHAR},
      </if>
      <if test="leftWish != null" >
        #{leftWish,jdbcType=VARCHAR},
      </if>
      <if test="rightWhisper != null" >
        #{rightWhisper,jdbcType=VARCHAR},
      </if>
      <if test="regTime != null" >
        #{regTime,jdbcType=TIMESTAMP},
      </if>
      <if test="upTime != null" >
        #{upTime,jdbcType=TIMESTAMP},
      </if>
      <if test="carousel != null" >
        #{carousel,jdbcType=LONGVARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.person.website.pojo.User" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 28 17:42:58 CST 2021.
    -->
    update t_user
    <set >
      <if test="userId != null" >
        user_id = #{userId,jdbcType=CHAR},
      </if>
      <if test="userAvatar != null" >
        user_avatar = #{userAvatar,jdbcType=VARCHAR},
      </if>
      <if test="userName != null" >
        user_name = #{userName,jdbcType=VARCHAR},
      </if>
      <if test="userSex != null" >
        user_sex = #{userSex,jdbcType=CHAR},
      </if>
      <if test="phone != null" >
        phone = #{phone,jdbcType=CHAR},
      </if>
      <if test="email != null" >
        email = #{email,jdbcType=VARCHAR},
      </if>
      <if test="ip != null" >
        ip = #{ip,jdbcType=VARCHAR},
      </if>
      <if test="password != null" >
        password = #{password,jdbcType=CHAR},
      </if>
      <if test="freeSpace != null" >
        free_space = #{freeSpace,jdbcType=TINYINT},
      </if>
      <if test="spaceState != null" >
        space_state = #{spaceState,jdbcType=TINYINT},
      </if>
      <if test="accountState != null" >
        account_state = #{accountState,jdbcType=TINYINT},
      </if>
      <if test="province != null" >
        province = #{province,jdbcType=VARCHAR},
      </if>
      <if test="city != null" >
        city = #{city,jdbcType=VARCHAR},
      </if>
      <if test="county != null" >
        county = #{county,jdbcType=VARCHAR},
      </if>
      <if test="address != null" >
        address = #{address,jdbcType=VARCHAR},
      </if>
      <if test="leftWish != null" >
        left_wish = #{leftWish,jdbcType=VARCHAR},
      </if>
      <if test="rightWhisper != null" >
        right_whisper = #{rightWhisper,jdbcType=VARCHAR},
      </if>
      <if test="regTime != null" >
        reg_time = #{regTime,jdbcType=TIMESTAMP},
      </if>
      <if test="upTime != null" >
        up_time = #{upTime,jdbcType=TIMESTAMP},
      </if>
      <if test="carousel != null" >
        carousel = #{carousel,jdbcType=LONGVARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKeyWithBLOBs" parameterType="com.person.website.pojo.User" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 28 17:42:58 CST 2021.
    -->
    update t_user
    set user_id = #{userId,jdbcType=CHAR},
      user_avatar = #{userAvatar,jdbcType=VARCHAR},
      user_name = #{userName,jdbcType=VARCHAR},
      user_sex = #{userSex,jdbcType=CHAR},
      phone = #{phone,jdbcType=CHAR},
      email = #{email,jdbcType=VARCHAR},
      ip = #{ip,jdbcType=VARCHAR},
      password = #{password,jdbcType=CHAR},
      free_space = #{freeSpace,jdbcType=TINYINT},
      space_state = #{spaceState,jdbcType=TINYINT},
      account_state = #{accountState,jdbcType=TINYINT},
      province = #{province,jdbcType=VARCHAR},
      city = #{city,jdbcType=VARCHAR},
      county = #{county,jdbcType=VARCHAR},
      address = #{address,jdbcType=VARCHAR},
      left_wish = #{leftWish,jdbcType=VARCHAR},
      right_whisper = #{rightWhisper,jdbcType=VARCHAR},
      reg_time = #{regTime,jdbcType=TIMESTAMP},
      up_time = #{upTime,jdbcType=TIMESTAMP},
      carousel = #{carousel,jdbcType=LONGVARCHAR}
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.person.website.pojo.User" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Oct 28 17:42:58 CST 2021.
    -->
    update t_user
    set user_id = #{userId,jdbcType=CHAR},
      user_avatar = #{userAvatar,jdbcType=VARCHAR},
      user_name = #{userName,jdbcType=VARCHAR},
      user_sex = #{userSex,jdbcType=CHAR},
      phone = #{phone,jdbcType=CHAR},
      email = #{email,jdbcType=VARCHAR},
      ip = #{ip,jdbcType=VARCHAR},
      password = #{password,jdbcType=CHAR},
      free_space = #{freeSpace,jdbcType=TINYINT},
      space_state = #{spaceState,jdbcType=TINYINT},
      account_state = #{accountState,jdbcType=TINYINT},
      province = #{province,jdbcType=VARCHAR},
      city = #{city,jdbcType=VARCHAR},
      county = #{county,jdbcType=VARCHAR},
      address = #{address,jdbcType=VARCHAR},
      left_wish = #{leftWish,jdbcType=VARCHAR},
      right_whisper = #{rightWhisper,jdbcType=VARCHAR},
      reg_time = #{regTime,jdbcType=TIMESTAMP},
      up_time = #{upTime,jdbcType=TIMESTAMP}
    where id = #{id,jdbcType=INTEGER}
  </update>

  <!--根据手机号码查找用户-->
  <select id="selectUserByPhone" resultType="com.person.website.pojo.User">
    select <include refid="Base_Column_List"/> from t_user where phone = #{phone}
  </select>

  <!--根据邮箱查找用户-->
  <select id="selectUserByEmail" resultType="com.person.website.pojo.User">
    select <include refid="Base_Column_List"/> from t_user where email = #{email}
  </select>

  <!--根据邮箱和密码查找用户-->
  <select id="selectUserByEmailAndPwd" resultType="com.person.website.pojo.User">
    select <include refid="Base_Column_List"/> from t_user where email = #{email} and password = #{password}
  </select>

  <!--根据手机号码和密码查找用户-->
  <select id="selectUserByPhoneAndPwd" resultType="com.person.website.pojo.User">
    select <include refid="Base_Column_List"/> from t_user where phone = #{phone} and password = #{password}
  </select>

  <!--用户头像更新-->
  <update id="insertAvatar">
    update t_user set user_avatar = #{fileName} where user_id = #{userId}
  </update>

  <!--根据userId查询用户信息-->
  <select id="selectByUserId" resultType="com.person.website.pojo.User">
    select <include refid="Base_Column_List"/> from t_user where user_id = #{userId}
  </select>

  <!--根据userId更新用户信息-->
  <update id="updateUserInfoByUserId">
    update t_user
    <set >
      <if test="userName != null" >
        user_name = #{userName,jdbcType=VARCHAR},
      </if>

      <if test="userSex != null" >
        user_sex = #{userSex,jdbcType=CHAR},
      </if>

      <if test="phone != null" >
        phone = #{phone,jdbcType=CHAR},
      </if>

      <if test="email != null" >
        email = #{email,jdbcType=VARCHAR},
      </if>

      <if test="ip != null" >
        ip = #{ip,jdbcType=VARCHAR},
      </if>

      <if test="province != null" >
        province = #{province,jdbcType=VARCHAR},
      </if>

      <if test="city != null" >
        city = #{city,jdbcType=VARCHAR},
      </if>

      <if test="county != null" >
        county = #{county,jdbcType=VARCHAR},
      </if>

      <if test="address != null" >
        address = #{address,jdbcType=VARCHAR},
      </if>

      <if test="leftWish != null" >
        left_wish = #{leftWish,jdbcType=VARCHAR},
      </if>

      <if test="rightWhisper != null" >
        right_whisper = #{rightWhisper,jdbcType=VARCHAR},
      </if>

      <if test="upTime != null" >
        up_time = #{upTime,jdbcType=TIMESTAMP}
      </if>
    </set>
    where user_id = #{userId}
  </update>

  <!--根据userId，更新密码-->
  <update id="updatePasswordByUserId">
    update t_user set password = #{password} where user_id = #{userId}
  </update>

  <!--选择性更新用户信息-->
  <update id="updateUserSelectiveByUserId">
    update t_user
    <set >
      <if test="userAvatar != null" >
        user_avatar = #{userAvatar,jdbcType=VARCHAR},
      </if>
      <if test="userName != null" >
        user_name = #{userName,jdbcType=VARCHAR},
      </if>
      <if test="userSex != null" >
        user_sex = #{userSex,jdbcType=CHAR},
      </if>
      <if test="phone != null" >
        phone = #{phone,jdbcType=CHAR},
      </if>
      <if test="email != null" >
        email = #{email,jdbcType=VARCHAR},
      </if>
      <if test="ip != null" >
        ip = #{ip,jdbcType=VARCHAR},
      </if>
      <if test="password != null" >
        password = #{password,jdbcType=CHAR},
      </if>
      <if test="freeSpace != null" >
        free_space = #{freeSpace,jdbcType=TINYINT},
      </if>
      <if test="spaceState != null" >
        space_state = #{spaceState,jdbcType=TINYINT},
      </if>
      <if test="accountState != null" >
        account_state = #{accountState,jdbcType=TINYINT},
      </if>
      <if test="province != null" >
        province = #{province,jdbcType=VARCHAR},
      </if>
      <if test="city != null" >
        city = #{city,jdbcType=VARCHAR},
      </if>
      <if test="county != null" >
        county = #{county,jdbcType=VARCHAR},
      </if>
      <if test="address != null" >
        address = #{address,jdbcType=VARCHAR},
      </if>
      <if test="leftWish != null" >
        left_wish = #{leftWish,jdbcType=VARCHAR},
      </if>
      <if test="rightWhisper != null" >
        right_whisper = #{rightWhisper,jdbcType=VARCHAR},
      </if>
      <if test="regTime != null" >
        reg_time = #{regTime,jdbcType=TIMESTAMP},
      </if>
      <if test="upTime != null" >
        up_time = #{upTime,jdbcType=TIMESTAMP},
      </if>
      <if test="carousel != null" >
        carousel = #{carousel,jdbcType=LONGVARCHAR},
      </if>
    </set>
    where user_id = #{userId,jdbcType=CHAR}
  </update>

  <!--查询所有的用户信息-->
  <select id="selectUserAll" resultType="com.person.website.pojo.User">
    select <include refid="Base_Column_List"/> from t_user
  </select>

  <!--根据用户id删除用户数据-->
  <delete id="deleteByUserId">
    delete from t_user where user_id = #{userId}
  </delete>

</mapper>